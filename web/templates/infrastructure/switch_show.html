{% extends "layout.html" %}

{% block content %}
    <p>Management IP: {{ switch.management_ip }}</p>
    {% if switch.room != None %}
        <p>Standort: {{ switch.room.dormitory.name }} / {{ switch.room.level }}-{{ switch.room.number }}</p>
    {% else %}
        <p>Der Standort der Switch ist nicht angegeben!</p>
    {% endif %}
    {% if current_user is privileged_for('infrastructure_change') %}
        <p>
            <a href="{{url_for(".switch_port_create", switch_id = switch.id)}}">neuer Switch Port</a>
        </p>
    {% endif %}
	<h3>Switch Ports:</h3>
   	<table class="table table-hover">
        <thead>
            <tr>
                <th>Name</th>
                <th>Raum</th>
            </tr>
        </thead>
        <tbody>
			  {% for switch_port in switch_ports %}
				  <tr>
                    <td>{{ switch_port.name }}</td>
                    <td><a href="{{ url_for("dormitories.room_show", room_id=switch_port.patch_port.room.id) }}">{{ switch_port.patch_port.room.level }}-{{ switch_port.patch_port.room.number }}</a></td>
                  </tr>
			  {% endfor %}
	    </tbody>
	</table>
{% endblock %}
