{%- macro info_row(name) %}
    <dt>{{ name }}</dt>
    <dd>{{ caller() }}</dd>
{%- endmacro %}

<div class="row">
    <div class="col-sm-6 col-md-5 col-lg-4">
        <dl class="dl-horizontal">
            {% call info_row("ID") %}{{ user.id }}{% endcall %}

            {% call info_row("Name") %}
                {% if current_user is privileged_for('user_change') %}
                <a href="{{ url_for(".edit_name", user_id=user.id) }}">{{ user.name }} <span class="glyphicon glyphicon-edit"></span></a>
                {% else %}
                {{ user.name }}
                {% endif %}
            {% endcall %}

            {% call info_row("Login") %}{{ user.login }}{% endcall %}

            {% call info_row("E-Mail") %}
                {% if current_user is privileged_for('user_change') %}
                <a href="{{ url_for(".edit_email", user_id=user.id) }}">{{ user.email }} <span class="glyphicon glyphicon-edit"></span></a>
                {% else %}
                {{ user.email }}
                {% endif %}
            {% endcall %}

            {% call info_row("Anmeldedatum") %}
                {{ user.registration_date|datetime }}
            {% endcall %}

            {% call info_row("Wohnort") %}
                {% if user.is_away %}
                <a style="text-decoration: line-through;" href="{{ url_for("dormitories.room_show", room_id=user.room_id) }}">Ehemals {{ user.room.dormitory.short_name }}/{{ user.room.level }}-{{ user.room.number }}</a>
                {% else %}
                <a href="{{ url_for("dormitories.room_show", room_id=user.room_id) }}">{{ user.room.dormitory.short_name }}/{{ user.room.level }}-{{ user.room.number }} <span class="glyphicon glyphicon-edit"></span></a>
                {% endif %}
            {% endcall %}

            {% call info_row("Netzstatus") %}
                {# TODO implementieren #}
                #todo#
            {% endcall %}
        </dl>
    </div>
    {% if current_user is privileged_for('user_change') %}
    <div class="col-sm-6 col-md-5 col-lg-4">
        <div class="user"><a class="btn btn-info" href="{{ url_for(".move", user_id=user.id) }}">Umziehen</a></div>
        <div class="user"><a class="btn btn-info" href="{{ url_for(".block", user_id=user.id) }}">Sperren</a></div>
        <div class="user"><a class="btn btn-info" href="{{ url_for(".move_out", user_id=user.id) }}">Ausziehen</a></div>
        {% if not user.is_away %}
        <div class="user"><a class="btn btn-info" href="{{ url_for(".move_out_tmp", user_id=user.id) }}">Vor√ºbergehend ausziehen</a></div>
        {% else %}
        <div class="user"><a class="btn btn-info" href="{{ url_for(".is_back", user_id=user.id) }}">Wieder einziehen</a></div>
        {% endif %}
    </div>
    {% endif %}
</div>
